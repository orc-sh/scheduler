# Cursor AI Rules for Scheduler Project

## Documentation Guidelines

### File Organization
- **ALL documentation files (*.md) MUST be created inside the `docs/` folder**
- Do NOT create documentation files in the project root unless explicitly requested
- Summary documents, API documentation, and implementation guides belong in `docs/`
- Only keep essential files like README.md in the root

### Documentation Structure
- `docs/api/` - API documentation and endpoint specifications
- `docs/guides/` - Implementation guides and tutorials
- `docs/architecture/` - System architecture and design documents
- `docs/testing/` - Testing strategies and test documentation

## Project Structure

### Backend (FastAPI)
- Controllers: `services/scheduler/app/controllers/`
- Services: `services/scheduler/app/services/`
- Models: `services/scheduler/app/models/`
- Schemas: `services/scheduler/app/schemas/`
- Tests: `services/scheduler/tests/`

### Frontend (Next.js/React)
- Components: `apps/web/src/components/`
- Pages: `apps/web/src/pages/`
- Hooks: `apps/web/src/hooks/`
- Types: `apps/web/src/types/`

## Code Standards

### Backend (Python)
- Follow PEP 8 style guide
- Use type hints for all function signatures
- Write docstrings for all public functions and classes
- Maintain test coverage for all new features
- Service layer handles business logic
- Controllers handle HTTP request/response

### Testing Requirements
- Write unit tests for service layer
- Write integration tests for API endpoints
- All tests must pass before completion
- Use pytest fixtures for test setup
- Mock external dependencies appropriately

### Authentication & Authorization
- All API endpoints require authentication via Bearer token
- Implement resource-level authorization
- Users can only access their own resources
- Return 401 for authentication failures
- Return 403 for authorization failures

## Naming Conventions

### API Endpoints
- Use RESTful conventions
- Prefix all API routes with `/api/`
- Use plural nouns for resources (e.g., `/api/webhooks`)
- Use HTTP methods appropriately (GET, POST, PUT, DELETE)

### Database
- Use snake_case for table and column names
- Include timestamps (created_at, updated_at) on all tables
- Use UUIDs for primary keys
- Define proper foreign key relationships

## Git Workflow
- Never commit without running tests
- Never use --no-verify flag
- Never force push to main/master
- Write clear, descriptive commit messages

## General Guidelines
- Prioritize readability and maintainability
- Follow existing patterns in the codebase
- Document complex logic with comments
- Keep functions small and focused
- Separate concerns across layers

